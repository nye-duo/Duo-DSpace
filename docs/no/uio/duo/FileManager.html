<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_38) on Wed May 29 18:31:49 BST 2013 -->
<TITLE>
FileManager
</TITLE>

<META NAME="date" CONTENT="2013-05-29">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FileManager";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../no/uio/duo/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../no/uio/duo/DuoPolicyManager.html" title="class in no.uio.duo"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../no/uio/duo/FSBagItIngester.html" title="class in no.uio.duo"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?no/uio/duo/FileManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FileManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
no.uio.duo</FONT>
<BR>
Class FileManager</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>no.uio.duo.FileManager</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>FileManager</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Class to provide file and bundle management utilities for the Duo module
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;Namespace</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#ATOM_NS">ATOM_NS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#FileManager()">FileManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#bitstreamInstanceAlreadyExists(no.uio.duo.IncomingBitstream, java.util.List)">bitstreamInstanceAlreadyExists</A></B>(<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&nbsp;ib,
                               java.util.List&lt;Bitstream&gt;&nbsp;existingBitstreams)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Does the incoming bitstream exactly match one of the provided list of bitstreams.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#bitstreamIsIncoming(Bitstream, java.util.List)">bitstreamIsIncoming</A></B>(Bitstream&nbsp;bitstream,
                    java.util.List&lt;<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&gt;&nbsp;ibs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Does the DSpace bitstream match one of the incoming bitstreams?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#bitstreamNameAlreadyExists(no.uio.duo.IncomingBitstream, java.util.List)">bitstreamNameAlreadyExists</A></B>(<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&nbsp;ib,
                           java.util.List&lt;Bitstream&gt;&nbsp;existingBitstreams)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Is the name of the incoming bitstream the same as the name of any of the list of existing bitstreams
 provided</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;Bitstream</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#findBitstream(no.uio.duo.IncomingBitstream, Bitstream[])">findBitstream</A></B>(<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&nbsp;ib,
              Bitstream[]&nbsp;bitstreams)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find a matching bitstream in the array of bitstreams if one exists.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#getBitstreamOrder(Context, Bitstream)">getBitstreamOrder</A></B>(Context&nbsp;context,
                  Bitstream&nbsp;bitstream)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the ordering parameter of the given bitstream</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;Bitstream&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#getExistingBitstreams(Item, java.lang.String)">getExistingBitstreams</A></B>(Item&nbsp;item,
                      java.lang.String&nbsp;bundleName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a list of all of the bitstreams in the named bundle in the provided item</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#getIncomingBundleName(Document, Element)">getIncomingBundleName</A></B>(Document&nbsp;doc,
                      Element&nbsp;link)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the name of the bundle for the given link in the given document</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.io.InputStream</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#getInputStream(java.lang.String)">getInputStream</A></B>(java.lang.String&nbsp;href)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get an input stream which will allow us to read the bits from this remote URL</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;Bitstream</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#ingestBitstream(Context, java.lang.String, java.lang.String, java.lang.String, Bundle)">ingestBitstream</A></B>(Context&nbsp;context,
                java.lang.String&nbsp;href,
                java.lang.String&nbsp;bsName,
                java.lang.String&nbsp;mimeString,
                Bundle&nbsp;targetBundle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ingest the bitstream from the given remote url with the given properties</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#isMetadataBitstream(Element)">isMetadataBitstream</A></B>(Element&nbsp;desc)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is the given element from an ORE description of a DSpace items a metadata bitstream?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#isMetadataBitstream(java.lang.String)">isMetadataBitstream</A></B>(java.lang.String&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Does the URL extracted from the Cristin ORE document refer to a metadata bitstream?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#isNewBitstream(no.uio.duo.IncomingBitstream, java.util.List)">isNewBitstream</A></B>(<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&nbsp;ib,
               java.util.List&lt;Bitstream&gt;&nbsp;existingBitstreams)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Is the incoming bitstream a new bitstream?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;Element&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#listBitstreams(Document)">listBitstreams</A></B>(Document&nbsp;doc)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List all of the bitstream elements in the given ORE document</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#listBitstreamsInBundle(Document, java.lang.String)">listBitstreamsInBundle</A></B>(Document&nbsp;doc,
                       java.lang.String&nbsp;bundleName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List all of the bitstreams which appear in the given bundle in the ORE description
 of the item provided by Cristin.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#listBitstreamsInBundle(Document, java.lang.String, boolean)">listBitstreamsInBundle</A></B>(Document&nbsp;doc,
                       java.lang.String&nbsp;bundleName,
                       boolean&nbsp;omitMetadata)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List all of the bitstreams which appear in the given bundle in the ORE description
 of the item provided by Cristin.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/FileManager.html#sequenceBitstreams(Item, java.lang.String, java.util.List)">sequenceBitstreams</A></B>(Item&nbsp;item,
                   java.lang.String&nbsp;bundleName,
                   java.util.List&lt;<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&gt;&nbsp;ibs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resequence the item's bitstreams in the named bundle so that they match the
 sequencing of the incoming bitstreams</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ATOM_NS"><!-- --></A><H3>
ATOM_NS</H3>
<PRE>
public static final Namespace <B>ATOM_NS</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="FileManager()"><!-- --></A><H3>
FileManager</H3>
<PRE>
public <B>FileManager</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getExistingBitstreams(Item, java.lang.String)"><!-- --></A><H3>
getExistingBitstreams</H3>
<PRE>
public java.util.List&lt;Bitstream&gt; <B>getExistingBitstreams</B>(Item&nbsp;item,
                                                       java.lang.String&nbsp;bundleName)
                                                throws java.sql.SQLException</PRE>
<DL>
<DD>Get a list of all of the bitstreams in the named bundle in the provided item
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>item</CODE> - <DD><CODE>bundleName</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="listBitstreamsInBundle(Document, java.lang.String)"><!-- --></A><H3>
listBitstreamsInBundle</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&gt; <B>listBitstreamsInBundle</B>(Document&nbsp;doc,
                                                                java.lang.String&nbsp;bundleName)
                                                         throws java.io.IOException</PRE>
<DL>
<DD>List all of the bitstreams which appear in the given bundle in the ORE description
 of the item provided by Cristin.  This will include the metadata bitstream
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>doc</CODE> - ORE root xml element<DD><CODE>bundleName</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="listBitstreamsInBundle(Document, java.lang.String, boolean)"><!-- --></A><H3>
listBitstreamsInBundle</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&gt; <B>listBitstreamsInBundle</B>(Document&nbsp;doc,
                                                                java.lang.String&nbsp;bundleName,
                                                                boolean&nbsp;omitMetadata)
                                                         throws java.io.IOException</PRE>
<DL>
<DD>List all of the bitstreams which appear in the given bundle in the ORE description
 of the item provided by Cristin.  Pass in the omitMetadata flag to include or exclude
 the metadata bitstream.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>doc</CODE> - ORE root xml element<DD><CODE>bundleName</CODE> - <DD><CODE>omitMetadata</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isMetadataBitstream(java.lang.String)"><!-- --></A><H3>
isMetadataBitstream</H3>
<PRE>
public boolean <B>isMetadataBitstream</B>(java.lang.String&nbsp;url)</PRE>
<DL>
<DD>Does the URL extracted from the Cristin ORE document refer to a metadata bitstream?
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="getIncomingBundleName(Document, Element)"><!-- --></A><H3>
getIncomingBundleName</H3>
<PRE>
public java.lang.String <B>getIncomingBundleName</B>(Document&nbsp;doc,
                                              Element&nbsp;link)
                                       throws java.io.IOException</PRE>
<DL>
<DD>Get the name of the bundle for the given link in the given document
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>doc</CODE> - <DD><CODE>link</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="listBitstreams(Document)"><!-- --></A><H3>
listBitstreams</H3>
<PRE>
public java.util.List&lt;Element&gt; <B>listBitstreams</B>(Document&nbsp;doc)
                                       throws java.io.IOException</PRE>
<DL>
<DD>List all of the bitstream elements in the given ORE document
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>doc</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isMetadataBitstream(Element)"><!-- --></A><H3>
isMetadataBitstream</H3>
<PRE>
public boolean <B>isMetadataBitstream</B>(Element&nbsp;desc)</PRE>
<DL>
<DD>is the given element from an ORE description of a DSpace items a metadata bitstream?
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>desc</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="getInputStream(java.lang.String)"><!-- --></A><H3>
getInputStream</H3>
<PRE>
public java.io.InputStream <B>getInputStream</B>(java.lang.String&nbsp;href)
                                   throws java.net.MalformedURLException,
                                          java.io.IOException</PRE>
<DL>
<DD>Get an input stream which will allow us to read the bits from this remote URL
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>href</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.net.MalformedURLException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="ingestBitstream(Context, java.lang.String, java.lang.String, java.lang.String, Bundle)"><!-- --></A><H3>
ingestBitstream</H3>
<PRE>
public Bitstream <B>ingestBitstream</B>(Context&nbsp;context,
                                 java.lang.String&nbsp;href,
                                 java.lang.String&nbsp;bsName,
                                 java.lang.String&nbsp;mimeString,
                                 Bundle&nbsp;targetBundle)
                          throws java.net.MalformedURLException,
                                 java.io.IOException,
                                 CrosswalkException,
                                 AuthorizeException,
                                 java.sql.SQLException</PRE>
<DL>
<DD>Ingest the bitstream from the given remote url with the given properties
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - <DD><CODE>href</CODE> - Remote URL from which to retrieve the bitstream<DD><CODE>bsName</CODE> - Name to give the bitstream in DSpace<DD><CODE>mimeString</CODE> - Mimetype to give the bitstream in DSpace<DD><CODE>targetBundle</CODE> - Target bundle to store the bitstream in
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.net.MalformedURLException</CODE>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE>CrosswalkException</CODE>
<DD><CODE>AuthorizeException</CODE>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getBitstreamOrder(Context, Bitstream)"><!-- --></A><H3>
getBitstreamOrder</H3>
<PRE>
public int <B>getBitstreamOrder</B>(Context&nbsp;context,
                             Bitstream&nbsp;bitstream)
                      throws java.sql.SQLException</PRE>
<DL>
<DD>Get the ordering parameter of the given bitstream
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - <DD><CODE>bitstream</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="bitstreamInstanceAlreadyExists(no.uio.duo.IncomingBitstream, java.util.List)"><!-- --></A><H3>
bitstreamInstanceAlreadyExists</H3>
<PRE>
public boolean <B>bitstreamInstanceAlreadyExists</B>(<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&nbsp;ib,
                                              java.util.List&lt;Bitstream&gt;&nbsp;existingBitstreams)</PRE>
<DL>
<DD>Does the incoming bitstream exactly match one of the provided list of bitstreams.

 Match is determined by equivalency of checksums
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ib</CODE> - <DD><CODE>existingBitstreams</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="bitstreamNameAlreadyExists(no.uio.duo.IncomingBitstream, java.util.List)"><!-- --></A><H3>
bitstreamNameAlreadyExists</H3>
<PRE>
public boolean <B>bitstreamNameAlreadyExists</B>(<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&nbsp;ib,
                                          java.util.List&lt;Bitstream&gt;&nbsp;existingBitstreams)</PRE>
<DL>
<DD>Is the name of the incoming bitstream the same as the name of any of the list of existing bitstreams
 provided
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ib</CODE> - <DD><CODE>existingBitstreams</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="findBitstream(no.uio.duo.IncomingBitstream, Bitstream[])"><!-- --></A><H3>
findBitstream</H3>
<PRE>
public Bitstream <B>findBitstream</B>(<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&nbsp;ib,
                               Bitstream[]&nbsp;bitstreams)</PRE>
<DL>
<DD>Find a matching bitstream in the array of bitstreams if one exists.

 NOTE: in an ideal world this would use checksum mapping, but checksums are not
 routinely available in the incoming bitstreams.  So matching is done with the
 much weaker condition of matching filename.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ib</CODE> - <DD><CODE>bitstreams</CODE> - 
<DT><B>Returns:</B><DD>the matching bitstream if one is found, or null if none is</DL>
</DD>
</DL>
<HR>

<A NAME="isNewBitstream(no.uio.duo.IncomingBitstream, java.util.List)"><!-- --></A><H3>
isNewBitstream</H3>
<PRE>
public boolean <B>isNewBitstream</B>(<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&nbsp;ib,
                              java.util.List&lt;Bitstream&gt;&nbsp;existingBitstreams)</PRE>
<DL>
<DD>Is the incoming bitstream a new bitstream?
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ib</CODE> - <DD><CODE>existingBitstreams</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="bitstreamIsIncoming(Bitstream, java.util.List)"><!-- --></A><H3>
bitstreamIsIncoming</H3>
<PRE>
public boolean <B>bitstreamIsIncoming</B>(Bitstream&nbsp;bitstream,
                                   java.util.List&lt;<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&gt;&nbsp;ibs)</PRE>
<DL>
<DD>Does the DSpace bitstream match one of the incoming bitstreams?
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bitstream</CODE> - <DD><CODE>ibs</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="sequenceBitstreams(Item, java.lang.String, java.util.List)"><!-- --></A><H3>
sequenceBitstreams</H3>
<PRE>
public void <B>sequenceBitstreams</B>(Item&nbsp;item,
                               java.lang.String&nbsp;bundleName,
                               java.util.List&lt;<A HREF="../../../no/uio/duo/IncomingBitstream.html" title="class in no.uio.duo">IncomingBitstream</A>&gt;&nbsp;ibs)
                        throws java.sql.SQLException,
                               AuthorizeException</PRE>
<DL>
<DD>Resequence the item's bitstreams in the named bundle so that they match the
 sequencing of the incoming bitstreams
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>item</CODE> - <DD><CODE>bundleName</CODE> - <DD><CODE>ibs</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE>
<DD><CODE>AuthorizeException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../no/uio/duo/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../no/uio/duo/DuoPolicyManager.html" title="class in no.uio.duo"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../no/uio/duo/FSBagItIngester.html" title="class in no.uio.duo"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?no/uio/duo/FileManager.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FileManager.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
