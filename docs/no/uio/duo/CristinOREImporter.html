<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_38) on Thu Oct 16 21:56:47 BST 2014 -->
<TITLE>
CristinOREImporter
</TITLE>

<META NAME="date" CONTENT="2014-10-16">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CristinOREImporter";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../no/uio/duo/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../no/uio/duo/CristinOAIDCCrosswalk.html" title="class in no.uio.duo"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../no/uio/duo/DeduplicateCristinIds.html" title="class in no.uio.duo"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?no/uio/duo/CristinOREImporter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CristinOREImporter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
no.uio.duo</FONT>
<BR>
Class CristinOREImporter</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>no.uio.duo.CristinOREImporter</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>CristinOREImporter</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<p>Importer which implements both the standard DSpace IngestionCrosswalk and the
 more advanced OAIConfigurableCrosswalk.  This crosswalk is first configured with
 parameters from the OAI harvester, and then run over the item retrieved from
 the OAI-PMH feed</p>

 <p>This is effectively a clone with extensions of the standard DSpace ORE Importer
 class, with specific features to handle items coming from Cristin.  It will ingest
 all of the referenced bitstreams, and then identify the metadata bitstream (of the
 form cristin-nnnnn.xml) and apply the configured crosswalk to it.</p>

 <p><strong>Configuration</strong></p>

 <p>Configure this in dspace.cfg as a named plugin implementation of the IngestionCrosswalk
 interface, with the name "cristin_ore":</p>

 <pre>
 plugin.named.org.dspace.content.crosswalk.IngestionCrosswalk = \
     org.dspace.content.crosswalk.AIPDIMCrosswalkx = DIM, \
     org.dspace.content.crosswalk.AIPTechMDCrosswalk = AIP-TECHMD, \
     org.dspace.content.crosswalk.PREMISCrosswalk = PREMIS, \
     org.dspace.content.crosswalk.OREIngestionCrosswalk = ore, \
     org.dspace.content.crosswalk.NullIngestionCrosswalk = NIL, \
     org.dspace.content.crosswalk.OAIDCIngestionCrosswalk = dc, \
     org.dspace.content.crosswalk.DIMIngestionCrosswalk = dim, \
     org.dspace.content.crosswalk.METSRightsCrosswalk = METSRIGHTS, \
     org.dspace.content.crosswalk.RoleCrosswalk = DSPACE-ROLES, \
     no.uio.duo.CristinOAIDCCrosswalk = cristin_dc, \
     no.uio.duo.CristinOREImporter = cristin_ore
 </pre>
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;Namespace</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/CristinOREImporter.html#ATOM_NS">ATOM_NS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../no/uio/duo/CristinOREImporter.html#CristinOREImporter()">CristinOREImporter</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/CristinOREImporter.html#addMetadataFromBitstream(Context, Item, Bitstream)">addMetadataFromBitstream</A></B>(Context&nbsp;context,
                         Item&nbsp;item,
                         Bitstream&nbsp;bitstream)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update the item's metadata from the provided bitstream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/CristinOREImporter.html#configure(java.util.Properties)">configure</A></B>(java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configure this crosswalk with the properties from the OAI-PMH harvester

 This looks for a property called "update_bitstreams" and uses that to determine
 during the actual ingest whether to deal with the item's bitstreams as well as
 its metadata</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/CristinOREImporter.html#ingest(Context, DSpaceObject, Element)">ingest</A></B>(Context&nbsp;context,
       DSpaceObject&nbsp;dso,
       Element&nbsp;root)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ingest the metadata held in the root element into the DSpace object</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../no/uio/duo/CristinOREImporter.html#ingest(Context, DSpaceObject, java.util.List)">ingest</A></B>(Context&nbsp;context,
       DSpaceObject&nbsp;dso,
       java.util.List&lt;Element&gt;&nbsp;metadata)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ingest the metadata in the element list into the DSpace item</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ATOM_NS"><!-- --></A><H3>
ATOM_NS</H3>
<PRE>
public static final Namespace <B>ATOM_NS</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CristinOREImporter()"><!-- --></A><H3>
CristinOREImporter</H3>
<PRE>
public <B>CristinOREImporter</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="configure(java.util.Properties)"><!-- --></A><H3>
configure</H3>
<PRE>
public void <B>configure</B>(java.util.Properties&nbsp;props)</PRE>
<DL>
<DD>Configure this crosswalk with the properties from the OAI-PMH harvester

 This looks for a property called "update_bitstreams" and uses that to determine
 during the actual ingest whether to deal with the item's bitstreams as well as
 its metadata
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>props</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="ingest(Context, DSpaceObject, java.util.List)"><!-- --></A><H3>
ingest</H3>
<PRE>
public void <B>ingest</B>(Context&nbsp;context,
                   DSpaceObject&nbsp;dso,
                   java.util.List&lt;Element&gt;&nbsp;metadata)
            throws CrosswalkException,
                   java.io.IOException,
                   java.sql.SQLException,
                   AuthorizeException</PRE>
<DL>
<DD>Ingest the metadata in the element list into the DSpace item
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - <DD><CODE>dso</CODE> - <DD><CODE>metadata</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>CrosswalkException</CODE>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE>java.sql.SQLException</CODE>
<DD><CODE>AuthorizeException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="ingest(Context, DSpaceObject, Element)"><!-- --></A><H3>
ingest</H3>
<PRE>
public void <B>ingest</B>(Context&nbsp;context,
                   DSpaceObject&nbsp;dso,
                   Element&nbsp;root)
            throws CrosswalkException,
                   java.io.IOException,
                   java.sql.SQLException,
                   AuthorizeException</PRE>
<DL>
<DD>Ingest the metadata held in the root element into the DSpace object
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - <DD><CODE>dso</CODE> - <DD><CODE>root</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>CrosswalkException</CODE>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE>java.sql.SQLException</CODE>
<DD><CODE>AuthorizeException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addMetadataFromBitstream(Context, Item, Bitstream)"><!-- --></A><H3>
addMetadataFromBitstream</H3>
<PRE>
public void <B>addMetadataFromBitstream</B>(Context&nbsp;context,
                                     Item&nbsp;item,
                                     Bitstream&nbsp;bitstream)
                              throws AuthorizeException,
                                     java.io.IOException,
                                     java.sql.SQLException,
                                     CrosswalkException</PRE>
<DL>
<DD>Update the item's metadata from the provided bitstream.  The bitstream should be
 the Cristin metadata file.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - <DD><CODE>item</CODE> - <DD><CODE>bitstream</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>AuthorizeException</CODE>
<DD><CODE>java.io.IOException</CODE>
<DD><CODE>java.sql.SQLException</CODE>
<DD><CODE>CrosswalkException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../no/uio/duo/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../no/uio/duo/CristinOAIDCCrosswalk.html" title="class in no.uio.duo"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../no/uio/duo/DeduplicateCristinIds.html" title="class in no.uio.duo"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?no/uio/duo/CristinOREImporter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CristinOREImporter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
